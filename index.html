<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOYLU IPTV - JSON VeritabanlÄ± TarayÄ±cÄ±</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .category-badge { display:inline-block; padding:2px 8px; border-radius:12px; font-size:0.75rem; margin:2px; }
        .bg-bein { background:#dc2626; } .bg-ulusal { background:#059669; } .bg-belgesel { background:#0891b2; }
        .bg-sinema { background:#ea580c; } .bg-spor { background:#ca8a04; } .bg-haber { background:#4f46e5; }
        .bg-yetiskin { background:#831843; } .bg-exxen { background:#7c3aed; }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen">
    <!-- NAV -->
    <nav class="bg-gray-800 p-4 shadow-xl">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <i class="fas fa-satellite-dish text-2xl text-green-400"></i>
                <h1 class="text-2xl font-bold">SOYLU <span class="text-green-400">IPTV</span></h1>
                <span class="bg-green-900 text-green-300 px-2 py-1 rounded text-sm">JSON DB</span>
            </div>
            <div class="space-x-3">
                <button onclick="loadDatabase()" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded">
                    <i class="fas fa-database"></i> DB YÃ¼kle
                </button>
                <button onclick="showAdmin()" class="bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded">
                    <i class="fas fa-cog"></i> YÃ¶netim
                </button>
                <button onclick="startAutoScan()" class="bg-green-600 hover:bg-green-700 px-4 py-2 rounded font-bold">
                    <i class="fas fa-bolt"></i> OTO TARA
                </button>
            </div>
        </div>
    </nav>

    <!-- MAIN -->
    <div class="container mx-auto p-4">
        <!-- FÄ°LTRE PANELÄ° -->
        <div class="bg-gray-800 rounded-xl p-6 mb-6">
            <h2 class="text-xl font-bold mb-4 text-green-300"><i class="fas fa-filter"></i> AKILLI FÄ°LTRE</h2>
            <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
                <div>
                    <label class="block text-sm mb-2">Kategori:</label>
                    <select id="catFilter" class="w-full p-2 rounded bg-gray-700" multiple>
                        <option value="bein">ğŸ”´ beIN SPORTS</option><option value="exxen">ğŸ¬ Exxen</option>
                        <option value="ulusal">ğŸ‡¹ğŸ‡· TÃ¼rk Ulusal</option><option value="belgesel">ğŸŒ Belgesel</option>
                        <option value="sinema">ğŸ¥ Sinema</option><option value="spor">âš½ Spor</option>
                        <option value="haber">ğŸ“° Haber</option><option value="yetiskin">ğŸ” YetiÅŸkin</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm mb-2">Ãœlke:</label>
                    <select id="countryFilter" class="w-full p-2 rounded bg-gray-700">
                        <option value="all">ğŸŒ TÃ¼mÃ¼</option><option value="TR">ğŸ‡¹ğŸ‡· TR</option>
                        <option value="DE">ğŸ‡©ğŸ‡ª DE</option><option value="US">ğŸ‡ºğŸ‡¸ US</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm mb-2">BitiÅŸ:</label>
                    <select id="expiryFilter" class="w-full p-2 rounded bg-gray-700">
                        <option value="all">ğŸ“… Hepsi</option><option value="7">â³ 7+ GÃ¼n</option>
                        <option value="30">â³ 30+ GÃ¼n</option><option value="365">â³ 1+ YÄ±l</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm mb-2">Kanal:</label>
                    <input type="number" id="minChannel" value="10" class="w-full p-2 rounded bg-gray-700" placeholder="Min kanal">
                </div>
                <div class="flex items-end">
                    <button onclick="applyFilters()" class="w-full bg-gradient-to-r from-green-600 to-blue-600 p-3 rounded font-bold">
                        <i class="fas fa-search"></i> FÄ°LTRELE
                    </button>
                </div>
            </div>
        </div>

        <!-- SONUÃ‡LAR -->
        <div class="bg-gray-800 rounded-xl p-4">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl font-bold">
                    <i class="fas fa-list"></i> PANELLER 
                    <span id="totalCount" class="bg-gray-700 px-2 py-1 rounded ml-2">0</span>
                </h2>
                <div class="space-x-2">
                    <button onclick="addNewPanel()" class="bg-green-700 hover:bg-green-800 px-4 py-2 rounded">
                        <i class="fas fa-plus"></i> YENÄ° PANEL
                    </button>
                    <button onclick="exportJSON()" class="bg-yellow-700 hover:bg-yellow-800 px-4 py-2 rounded">
                        <i class="fas fa-download"></i> JSON
                    </button>
                    <button onclick="clearExpired()" class="bg-red-700 hover:bg-red-800 px-4 py-2 rounded">
                        <i class="fas fa-trash"></i> SÄ°L (SÃ¼resi Dolan)
                    </button>
                </div>
            </div>

            <!-- TABLO -->
            <div class="overflow-x-auto">
                <table class="w-full" id="resultsTable">
                    <thead class="bg-gray-700">
                        <tr>
                            <th class="p-3">#</th><th class="p-3">PANEL</th><th class="p-3">KULLANICI</th>
                            <th class="p-3">ÅÄ°FRE</th><th class="p-3">KATEGORÄ°</th><th class="p-3">BÄ°TÄ°Å</th>
                            <th class="p-3">KANAL</th><th class="p-3">Ä°ÅLEM</th>
                        </tr>
                    </thead>
                    <tbody id="resultsBody">
                        <tr id="noResults"><td colspan="8" class="p-8 text-center text-gray-500">
                            <i class="fas fa-database text-3xl mb-2"></i><br>HenÃ¼z veri yok. "DB YÃ¼kle" veya "OTO TARA" butonuna tÄ±kla.
                        </td></tr>
                    </tbody>
                </table>
            </div>

            <!-- Ä°STATÄ°STÄ°K -->
            <div id="stats" class="mt-4 p-4 bg-gray-900 rounded hidden">
                <div class="grid grid-cols-4 gap-4 text-center">
                    <div><div class="text-2xl font-bold text-green-400" id="statActive">0</div><div class="text-sm">Aktif</div></div>
                    <div><div class="text-2xl font-bold text-blue-400" id="statTotal">0</div><div class="text-sm">Toplam</div></div>
                    <div><div class="text-2xl font-bold text-red-400" id="statExpired">0</div><div class="text-sm">SÃ¼resi Dolan</div></div>
                    <div><div class="text-2xl font-bold text-purple-400" id="statChannels">0</div><div class="text-sm">Toplam Kanal</div></div>
                </div>
            </div>
        </div>

        <!-- YENÄ° PANEL EKLE MODAL -->
        <div id="addPanelModal" class="fixed inset-0 bg-black bg-opacity-75 hidden z-50">
            <div class="flex items-center justify-center min-h-screen p-4">
                <div class="bg-gray-800 rounded-xl p-6 w-full max-w-2xl">
                    <h2 class="text-2xl font-bold mb-6">â• YENÄ° PANEL EKLE</h2>
                    <div class="space-y-4">
                        <div class="grid grid-cols-2 gap-4">
                            <div><label class="block mb-2">Host:</label><input type="text" id="newHost" class="w-full p-3 rounded bg-gray-700" placeholder="panel.com:8080"></div>
                            <div><label class="block mb-2">KullanÄ±cÄ±:</label><input type="text" id="newUser" class="w-full p-3 rounded bg-gray-700" placeholder="kullanici"></div>
                            <div><label class="block mb-2">Åifre:</label><input type="text" id="newPass" class="w-full p-3 rounded bg-gray-700" placeholder="******"></div>
                            <div><label class="block mb-2">BitiÅŸ Tarihi:</label><input type="date" id="newExpiry" class="w-full p-3 rounded bg-gray-700"></div>
                        </div>
                        <div>
                            <label class="block mb-2">Kategoriler:</label>
                            <div class="flex flex-wrap gap-2" id="categoryCheckboxes">
                                <label class="flex items-center"><input type="checkbox" value="bein" class="mr-2"> beIN</label>
                                <label class="flex items-center"><input type="checkbox" value="exxen" class="mr-2"> Exxen</label>
                                <label class="flex items-center"><input type="checkbox" value="ulusal" class="mr-2"> Ulusal</label>
                                <label class="flex items-center"><input type="checkbox" value="belgesel" class="mr-2"> Belgesel</label>
                                <label class="flex items-center"><input type="checkbox" value="sinema" class="mr-2"> Sinema</label>
                                <label class="flex items-center"><input type="checkbox" value="spor" class="mr-2"> Spor</label>
                                <label class="flex items-center"><input type="checkbox" value="haber" class="mr-2"> Haber</label>
                                <label class="flex items-center"><input type="checkbox" value="yetiskin" class="mr-2"> YetiÅŸkin</label>
                            </div>
                        </div>
                        <div class="flex justify-end space-x-3 mt-6">
                            <button onclick="saveNewPanel()" class="bg-green-600 hover:bg-green-700 px-6 py-3 rounded font-bold">KAYDET</button>
                            <button onclick="hideModal()" class="bg-gray-700 hover:bg-gray-600 px-6 py-3 rounded">Ä°PTAL</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- YÃ–NETÄ°M PANELÄ° -->
        <div id="adminPanel" class="fixed inset-0 bg-black bg-opacity-75 hidden z-50">
            <div class="flex items-center justify-center min-h-screen p-4">
                <div class="bg-gray-800 rounded-xl p-6 w-full max-w-3xl">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold">âš™ï¸ YÃ–NETÄ°M PANELÄ°</h2>
                        <button onclick="hideAdmin()" class="text-2xl">&times;</button>
                    </div>
                    <div class="space-y-6">
                        <!-- VERÄ°TABANI YÃ–NETÄ°MÄ° -->
                        <div class="bg-gray-900 p-4 rounded">
                            <h3 class="font-bold mb-3">ğŸ—ƒï¸ VERÄ°TABANI Ä°ÅLEMLERÄ°</h3>
                            <div class="grid grid-cols-3 gap-4">
                                <button onclick="cleanDatabase()" class="bg-red-700 hover:bg-red-800 p-3 rounded">
                                    <i class="fas fa-broom"></i> Temizle (30+ GÃ¼n)
                                </button>
                                <button onclick="backupDatabase()" class="bg-blue-700 hover:bg-blue-800 p-3 rounded">
                                    <i class="fas fa-save"></i> Yedek Al
                                </button>
                                <button onclick="loadBackup()" class="bg-green-700 hover:bg-green-800 p-3 rounded">
                                    <i class="fas fa-upload"></i> Yedekten YÃ¼kle
                                </button>
                            </div>
                        </div>

                        <!-- OTOMATÄ°K TARAMA -->
                        <div class="bg-gray-900 p-4 rounded">
                            <h3 class="font-bold mb-3">ğŸ¤– OTOMATÄ°K TARAMA AYARLARI</h3>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block mb-2">Tarama AralÄ±ÄŸÄ± (saat):</label>
                                    <input type="number" id="scanInterval" value="24" class="w-full p-2 rounded bg-gray-700">
                                </div>
                                <div>
                                    <label class="block mb-2">Max Panel SayÄ±sÄ±:</label>
                                    <input type="number" id="maxPanels" value="50" class="w-full p-2 rounded bg-gray-700">
                                </div>
                            </div>
                            <div class="mt-4">
                                <label class="flex items-center"><input type="checkbox" id="autoClean" class="mr-2" checked> SÃ¼resi dolan panelleri otomatik sil</label>
                                <label class="flex items-center mt-2"><input type="checkbox" id="autoBackup" class="mr-2" checked> Her taramadan sonra yedek al</label>
                            </div>
                        </div>

                        <!-- KOMBO LÄ°STESÄ° -->
                        <div class="bg-gray-900 p-4 rounded">
                            <h3 class="font-bold mb-3">ğŸ”‘ KOMBO LÄ°STESÄ° (KullanÄ±cÄ±:Åifre)</h3>
                            <textarea id="comboList" class="w-full p-3 rounded bg-gray-700 h-32">demo:demo\ntest:test\nguest:guest\nadmin:admin\nuser:user</textarea>
                            <div class="text-sm text-gray-400 mt-2">Her satÄ±ra bir kullanÄ±cÄ±:ÅŸifre kombinasyonu</div>
                        </div>

                        <!-- Ä°STATÄ°STÄ°K -->
                        <div class="bg-gray-900 p-4 rounded">
                            <h3 class="font-bold mb-3">ğŸ“Š SÄ°STEM Ä°STATÄ°STÄ°KLERÄ°</h3>
                            <div class="grid grid-cols-2 gap-4">
                                <div class="p-3 bg-gray-800 rounded">
                                    <div class="text-sm text-gray-400">Toplam Panel</div>
                                    <div class="text-2xl font-bold" id="dbTotal">0</div>
                                </div>
                                <div class="p-3 bg-gray-800 rounded">
                                    <div class="text-sm text-gray-400">Son GÃ¼ncelleme</div>
                                    <div class="text-lg" id="dbLastUpdate">-</div>
                                </div>
                            </div>
                        </div>

                        <div class="flex justify-end">
                            <button onclick="saveAdminSettings()" class="bg-green-600 hover:bg-green-700 px-6 py-3 rounded font-bold">AYARLARI KAYDET</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- DEMO BÄ°LGÄ° -->
        <div class="mt-8 p-6 bg-gradient-to-r from-gray-800 to-gray-900 rounded-xl">
            <h3 class="text-lg font-bold mb-4 text-center">ğŸ“¡ DEMO PANEL</h3>
            <div class="grid grid-cols-4 gap-4 text-center">
                <div class="p-4 bg-gray-800 rounded"><div class="text-sm text-gray-400">HOST</div><div class="font-mono">wiperline.de:8080</div></div>
                <div class="p-4 bg-gray-800 rounded"><div class="text-sm text-gray-400">KULLANICI</div><div class="font-mono">eryakut01</div></div>
                <div class="p-4 bg-gray-800 rounded"><div class="text-sm text-gray-400">ÅÄ°FRE</div><div class="font-mono text-red-300">2vSupS5fd5qW</div></div>
                <div class="p-4 bg-gray-800 rounded"><div class="text-sm text-gray-400">BÄ°TÄ°Å</div><div class="font-mono text-yellow-300">10.AÄŸu.2025</div></div>
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer class="mt-8 p-6 bg-gray-800 border-t border-gray-700">
        <div class="container mx-auto text-center">
            <div class="mb-4">
                <i class="fas fa-database text-3xl text-green-400"></i>
                <h3 class="text-xl font-bold mt-2">JSON VERÄ°TABANLI IPTV TARAYICI</h3>
                <p class="text-gray-400">Tamamen statik - HiÃ§ sunucu gerekmez</p>
            </div>
            <div class="mt-4">
                <div class="font-mono text-green-300 bg-black p-3 rounded inline-block">
                    https://fullprocu.github.io/soyluiptv/
                </div>
                <p class="text-sm text-gray-400 mt-2">GitHub Pages Ã¼zerinde tamamen Ã¼cretsiz Ã§alÄ±ÅŸÄ±r</p>
            </div>
        </div>
    </footer>

    <script src="js/app.js"></script>
</body>
</html>
